<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 2rem;
        }

        .slider-container {
            position: relative;
            width: 300px;
            height: 10px;
        }

        .slider {
            -webkit-appearance: none;
            width: 102%;
            height: 10px;
            left: -5px;
            border-radius: 5px;
            background: transparent;
            position: absolute;
            z-index: 2;
        }

            .slider::-webkit-slider-thumb {
                -webkit-appearance: none;
                width: 20px;
                height: 20px;
                border-radius: 50%;
                background: #333;
                cursor: pointer;
                z-index: 3;
                position: relative;
            }

            .slider::-moz-range-thumb {
                width: 20px;
                height: 20px;
                border-radius: 50%;
                background: #333;
                cursor: pointer;
            }

        .track {
            position: absolute;
            width: 100%;
            height: 10px;
            border-radius: 5px;
            background: lightgray;
            z-index: 0;
        }

        .fill-left {
            position: absolute;
            height: 10px;
            background: #83c8f2;
            border-radius: 5px 0 0 5px;
            z-index: 2;
        }

        .unavailable-rectangle {
            position: absolute;
            height: 10px;
            background: #919191;
            border-radius: 0 5px 5px 0;
            z-index: 1;
        }
    </style>
</head>
<body>
    <div class="slider-container">
        <div class="track"></div>
        <div class="fill-left"></div>
        <div class="unavailable-rectangle"></div>
        <input type="range" min="0" max="48" value="0" class="slider" id="range-slider">
    </div>

    <script>
    const slider = document.getElementById('range-slider');
    const fillLeft = document.querySelector('.fill-left');
    const unavailableRectangle = document.querySelector('.unavailable-rectangle');
    const sliderContainer = document.querySelector('.slider-container');

    // Customizable start value for the red rectangle
    let unavailableStartValue = 27;

    function updateSliderUI() {
      const sliderValue = parseInt(slider.value);
      const min = parseInt(slider.min);
      const max = parseInt(slider.max);

      const sliderWidth = sliderContainer.offsetWidth;

      // Calculate percentages
      const leftPercent = ((sliderValue - min) / (max - min)) * 100;
      const unavailablePercent = ((unavailableStartValue - min) / (max - min)) * 100;

      // Update blue fill
      fillLeft.style.width = `${leftPercent}%`;

      // Update red rectangle
      unavailableRectangle.style.left = `${unavailablePercent}%`;
      unavailableRectangle.style.width = `${100 - unavailablePercent}%`;
    }

    // Initialize the slider and attach event listener
    slider.addEventListener('input', () => {
        const maxValue = unavailableStartValue; // Block slider at redStartValue
        if (slider.value > maxValue) {
            slider.value = maxValue;
        }
        updateSliderUI();
    });
    updateSliderUI();
    </script>
</body>
</html>
